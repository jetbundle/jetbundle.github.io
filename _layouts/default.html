<!DOCTYPE html>
<html>
  {% include head.html %}
  <body class="animated fadeIn">
    {% include header.html %}
    <div class="container">
      <div id="background-div">
        <svg id="background-svg">
          <lineargradient id="Gradient1" x1="0" x2="0" y1="0" y2="1">
            <stop stop-opacity="0" class="bgColor1" offset="0%" />
            <stop stop-opacity="1" class="bgColor2" offset="100%" />
          </lineargradient>
        </svg>
      </div>
      {{ content }}
    </div>
    {% include footer.html %}
    
    <!-- JetBundle Gauge Theme CSS - Loads after theme CSS -->
    <link rel="stylesheet" href="/assets/css/gauge-theme.css">
    
    <!-- JetBundle Gauge Theme JavaScript - Forces style application -->
    <script>
      (function() {
        // Inject CSS immediately if not already loaded
        if (!document.getElementById('gauge-theme-css')) {
          const link = document.createElement('link');
          link.id = 'gauge-theme-css';
          link.rel = 'stylesheet';
          link.href = '/assets/css/gauge-theme.css';
          document.head.appendChild(link);
        }
        
        // Force apply styles function
        function applyGaugeTheme() {
          // Override body
          if (document.body) {
            document.body.style.setProperty('background', 'linear-gradient(135deg, #0b0e17 0%, #0a0d14 100%)', 'important');
            document.body.style.setProperty('background-color', '#0b0e17', 'important');
            document.body.style.setProperty('color', '#f1f5f9', 'important');
          }
          
          // Override background div
          const bgDiv = document.getElementById('background-div');
          if (bgDiv) {
            bgDiv.style.setProperty('background', 'linear-gradient(135deg, #0b0e17 0%, #0a0d14 100%)', 'important');
            bgDiv.style.setProperty('background-color', '#0b0e17', 'important');
          }
          
          // Override SVG gradients
          const svg = document.getElementById('background-svg');
          if (svg) {
            const stops = svg.querySelectorAll('stop');
            stops.forEach(stop => {
              if (stop.classList.contains('bgColor1')) {
                stop.setAttribute('stop-color', '#0b0e17');
              } else if (stop.classList.contains('bgColor2')) {
                stop.setAttribute('stop-color', '#0a0d14');
              }
            });
          }
          
          // Override headings
          document.querySelectorAll('h1, h2, h3, h4, h5, h6').forEach(h => {
            h.style.setProperty('color', '#ff6b35', 'important');
            if (h.tagName === 'H1') {
              h.style.setProperty('background', 'linear-gradient(135deg, #ff6b35 0%, #ff4500 100%)', 'important');
              h.style.setProperty('-webkit-background-clip', 'text', 'important');
              h.style.setProperty('-webkit-text-fill-color', 'transparent', 'important');
            }
          });
          
          // Override links
          document.querySelectorAll('a').forEach(a => {
            a.style.setProperty('color', '#0ea5e9', 'important');
          });
          
          // Override navigation
          document.querySelectorAll('.navbar-icon, nav a, .navbar a').forEach(a => {
            a.style.setProperty('color', '#94a3b8', 'important');
          });
        }
        
        // Apply immediately and repeatedly
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', applyGaugeTheme);
        } else {
          applyGaugeTheme();
        }
        
        setTimeout(applyGaugeTheme, 50);
        setTimeout(applyGaugeTheme, 200);
        setTimeout(applyGaugeTheme, 500);
        setTimeout(applyGaugeTheme, 1000);
        
        // Enhanced cursor trail
        const trail = [];
        const trailLength = 20;
        const container = document.createElement('div');
        container.id = 'mouse-trail-container';
        container.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:99999;';
        document.body.appendChild(container);
        
        for (let i = 0; i < trailLength; i++) {
          const p = document.createElement('div');
          p.style.cssText = `position:absolute;width:${8-i*0.3}px;height:${8-i*0.3}px;background:radial-gradient(circle,rgba(255,107,53,${1-i*0.05})0%,rgba(14,165,233,${0.8-i*0.04})50%,transparent 100%);border-radius:50%;pointer-events:none;transform:translate(-50%,-50%);opacity:0;transition:opacity 0.1s;box-shadow:0 0 ${10+i*2}px rgba(255,107,53,0.5),0 0 ${15+i*3}px rgba(14,165,233,0.3);mix-blend-mode:screen;`;
          container.appendChild(p);
          trail.push({el:p,x:0,y:0,op:0});
        }
        
        let mx=0,my=0;
        document.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;});
        
        function anim() {
          trail.forEach((p,i)=>{
            if(i===0){p.x=mx;p.y=my;p.op=1;}
            else{
              const prev=trail[i-1];
              const dx=prev.x-p.x,dy=prev.y-p.y;
              const d=Math.sqrt(dx*dx+dy*dy);
              if(d>2){p.x+=dx*0.3;p.y+=dy*0.3;}else{p.x=prev.x;p.y=prev.y;}
              p.op=Math.max(0,p.op-0.05);
            }
            p.el.style.left=p.x+'px';
            p.el.style.top=p.y+'px';
            p.el.style.opacity=p.op;
          });
          requestAnimationFrame(anim);
        }
        anim();
      })();
    </script>
  </body>
</html>

